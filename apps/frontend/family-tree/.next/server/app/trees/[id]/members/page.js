(()=>{var e={};e.id=842,e.ids=[842],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},79093:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>h,tree:()=>c}),r(76973),r(63901),r(12523);var a=r(23191),t=r(88716),l=r(37922),n=r.n(l),i=r(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(s,d);let c=["",{children:["trees",{children:["[id]",{children:["members",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,76973)),"/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/trees/[id]/members/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,63901)),"/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/not-found.tsx"]}],m=["/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/trees/[id]/members/page.tsx"],o="/trees/[id]/members/page",x={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/trees/[id]/members/page",pathname:"/trees/[id]/members",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},58283:(e,s,r)=>{Promise.resolve().then(r.bind(r,29985))},29985:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>M});var a=r(10326),t=r(17577),l=r(35047),n=r(91664),i=r(29752),d=r(41190),c=r(38443),m=r(3594),o=r(99744),x=r(28180),h=r(62952),u=r(98023),p=r(39183),g=r(75290),j=r(24061),f=r(86333),y=r(51110),b=r(74975),v=r(88307),N=r(76557);let w=(0,N.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),k=(0,N.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),C=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),_=e=>{if(!e)return"bg-gray-400";let s=e.toLowerCase();return"male"===s?"bg-blue-400":"female"===s?"bg-pink-400":"bg-purple-400"};function P({member:e,onClick:s,viewMode:r="grid"}){return"list"===r?a.jsx(i.Zb,{className:"cursor-pointer transition-all hover:shadow-md hover:border-primary/50",onClick:s,children:a.jsx(i.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(m.qE,{className:"h-12 w-12",children:[a.jsx(m.F$,{src:e.avatar_url,alt:e.name}),a.jsx(m.Q5,{className:_(e.gender),children:C(e.name)})]}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.dob&&(0,a.jsxs)("span",{children:["b. ",new Date(e.dob).getFullYear()]}),e.deceased&&e.dod&&(0,a.jsxs)("span",{children:["d. ",new Date(e.dod).getFullYear()]}),e.gender&&a.jsx(c.C,{variant:"outline",className:"text-xs",children:e.gender})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.deceased&&a.jsx(c.C,{variant:"secondary",children:"Deceased"}),a.jsx(p.Z,{className:"h-5 w-5 text-muted-foreground"})]})]})})}):a.jsx(i.Zb,{className:"cursor-pointer transition-all hover:shadow-md hover:border-primary/50",onClick:s,children:(0,a.jsxs)(i.aY,{className:"flex flex-col items-center gap-3 p-4",children:[(0,a.jsxs)(m.qE,{className:"h-20 w-20",children:[a.jsx(m.F$,{src:e.avatar_url,alt:e.name}),a.jsx(m.Q5,{className:_(e.gender),children:C(e.name)})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h3",{className:"font-medium line-clamp-1",children:e.name}),(0,a.jsxs)("div",{className:"mt-1 space-y-1",children:[e.dob&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["b. ",new Date(e.dob).getFullYear()]}),e.deceased&&e.dod&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["d. ",new Date(e.dod).getFullYear()]})]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap justify-center gap-1",children:[e.gender&&a.jsx(c.C,{variant:"outline",className:"text-xs",children:e.gender}),e.deceased&&a.jsx(c.C,{variant:"secondary",className:"text-xs",children:"Deceased"})]})]})]})})}function M(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),r=e.id,[c,m]=(0,t.useState)(""),[p,N]=(0,t.useState)("all"),[C,_]=(0,t.useState)("grid"),[M,Z]=(0,t.useState)(null),[S,$]=(0,t.useState)(!1),{members:q,loading:A,error:z,refetch:F}=(0,u.r)({treeId:r,autoFetch:!0}),Y=(0,t.useMemo)(()=>q.filter(e=>{let s=e.name.toLowerCase().includes(c.toLowerCase()),r="all"===p||("alive"===p?!e.deceased:e.deceased);return s&&r}),[q,c,p]),E=e=>{Z(e),$(!0)};return A?a.jsx(x.c,{children:a.jsx("div",{className:"flex h-full items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(g.Z,{className:"mx-auto mb-4 h-12 w-12 animate-spin text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading members..."})]})})}):z?a.jsx(x.c,{children:a.jsx("div",{className:"flex h-full items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(j.Z,{className:"mx-auto mb-4 h-16 w-16 text-destructive"}),a.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Error Loading Members"}),a.jsx("p",{className:"mb-6 text-muted-foreground",children:z.message}),a.jsx(n.z,{onClick:()=>F(),children:"Try Again"})]})})}):(0,a.jsxs)(x.c,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)(n.z,{variant:"ghost",onClick:()=>s.push(`/trees/${r}`),className:"w-fit",children:[a.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Back to Tree"]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Family Members"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:[Y.length," of ",q.length," members"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[q.length>=2&&(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>s.push(`/trees/${r}/relationships`),children:[a.jsx(y.Z,{className:"mr-2 h-4 w-4"}),"Analyze Relationships"]}),(0,a.jsxs)(n.z,{onClick:()=>s.push(`/trees/${r}/members/new`),children:[a.jsx(b.Z,{className:"mr-2 h-4 w-4"}),"Add Member"]})]})]})]}),a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(v.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(d.I,{placeholder:"Search members by name...",value:c,onChange:e=>m(e.target.value),className:"pl-9"})]}),a.jsx(o.mQ,{value:p,onValueChange:e=>N(e),children:(0,a.jsxs)(o.dr,{children:[a.jsx(o.SP,{value:"all",children:"All"}),a.jsx(o.SP,{value:"alive",children:"Living"}),a.jsx(o.SP,{value:"deceased",children:"Deceased"})]})}),(0,a.jsxs)("div",{className:"flex gap-1 rounded-md border p-1",children:[a.jsx(n.z,{variant:"grid"===C?"secondary":"ghost",size:"sm",onClick:()=>_("grid"),children:a.jsx(w,{className:"h-4 w-4"})}),a.jsx(n.z,{variant:"list"===C?"secondary":"ghost",size:"sm",onClick:()=>_("list"),children:a.jsx(k,{className:"h-4 w-4"})})]})]})})}),0===Y.length?a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(j.Z,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("h3",{className:"mb-2 text-xl font-semibold",children:0===q.length?"No Members Yet":"No Members Found"}),a.jsx("p",{className:"mb-6 text-center text-muted-foreground",children:0===q.length?"Start building your family tree by adding your first member":"Try adjusting your search or filters"}),0===q.length&&(0,a.jsxs)(n.z,{onClick:()=>s.push(`/trees/${r}/members/new`),children:[a.jsx(b.Z,{className:"mr-2 h-4 w-4"}),"Add First Member"]})]})}):a.jsx("div",{className:"grid"===C?"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"space-y-2",children:Y.map(e=>a.jsx(P,{member:e,onClick:()=>E(e),viewMode:C},e.id))})]}),a.jsx(h.d,{member:M,open:S,onOpenChange:$,allMembers:q,treeId:r,isTreeCanvasPage:!1,onMemberNavigate:e=>{Z(e)},onEditClick:()=>{M&&s.push(`/trees/${r}/members/${M.id}/edit`)},onAddSpouseClick:()=>{M&&s.push(`/trees/${r}/members/${M.id}/add-spouse`)},onAddChildClick:()=>{M&&s.push(`/trees/${r}/members/${M.id}/add-child`)}})]})}},76973:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/trees/[id]/members/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[990,153,882,752,711,735,754],()=>r(79093));module.exports=a})();