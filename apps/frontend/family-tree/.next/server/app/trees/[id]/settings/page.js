(()=>{var e={};e.id=509,e.ids=[509],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12520:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(98873),s(63901),s(12523);var a=s(23191),r=s(88716),n=s(37922),i=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["trees",{children:["[id]",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,98873)),"/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/trees/[id]/settings/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,63901)),"/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/not-found.tsx"]}],c=["/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/trees/[id]/settings/page.tsx"],u="/trees/[id]/settings/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/trees/[id]/settings/page",pathname:"/trees/[id]/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},25232:(e,t,s)=>{Promise.resolve().then(s.bind(s,42321))},37202:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71709:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},18019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},71810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},90748:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},31215:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},88378:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},58038:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7720:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]])},79635:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},65442:(e,t,s)=>{"use strict";var a=s(17577),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,i=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!r(e,s)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),a=n({inst:{value:s,getSnapshot:t}}),r=a[0].inst,c=a[1];return l(function(){r.value=s,r.getSnapshot=t,d(r)&&c({inst:r})},[e,s,t]),i(function(){return d(r)&&c({inst:r}),e(function(){d(r)&&c({inst:r})})},[e]),o(s),s};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},94095:(e,t,s)=>{"use strict";e.exports=s(65442)},42321:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var a=s(10326),r=s(17577),n=s(35047),i=s(91664),l=s(41190),o=s(44794),d=s(29752),c=s(28180),u=s(84097),m=s(58038),p=s(86333),h=s(75290),f=s(18019),x=s(37202),y=s(31215),g=s(87542),v=s(72427),j=s(79360),w=s(51223);let b=(0,j.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),k=r.forwardRef(({className:e,variant:t,...s},r)=>a.jsx("div",{ref:r,role:"alert",className:(0,w.cn)(b({variant:t}),e),...s}));k.displayName="Alert";let _=r.forwardRef(({className:e,...t},s)=>a.jsx("h5",{ref:s,className:(0,w.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));_.displayName="AlertTitle";let N=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,w.cn)("text-sm [&_p]:leading-relaxed",e),...t}));N.displayName="AlertDescription";var C=s(69654),S=s(24118);function Z(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),{toast:s}=(0,u.pm)(),j=e.id,[w,b]=(0,r.useState)(null),[Z,E]=(0,r.useState)({allow_same_sex:!0,monogamy:!0,allow_polygamy:!1,allow_single_parent:!0,allow_multi_parent_children:!1,max_parents_per_child:2}),[M,R]=(0,r.useState)(null),[P,T]=(0,r.useState)(null),[F,A]=(0,r.useState)(!1),[I,z]=(0,r.useState)(!1),[V,L]=(0,r.useState)(!0),[O,D]=(0,r.useState)(!1),[W,q]=(0,r.useState)(!1);if(w&&"custodian"!==w.user_role)return a.jsx(c.c,{children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,a.jsxs)(k,{variant:"destructive",children:[a.jsx(m.Z,{className:"h-4 w-4"}),a.jsx(_,{children:"Access Denied"}),a.jsx(N,{children:"Only custodians can modify tree settings."})]}),(0,a.jsxs)(i.z,{onClick:()=>t.push(`/trees/${j}`),children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Back to Tree"]})]})});let H=M&&JSON.stringify(Z)!==JSON.stringify(M),$=(e,t)=>{E(s=>({...s,[e]:t})),T(null)},B=async()=>{try{q(!0);let e=await fetch(`http://localhost:8050/api/trees/${j}/settings/preview`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Z)});if(!e.ok)throw Error("Failed to preview settings impact");let t=await e.json();T(t),t.would_violate?s({title:"Warning",description:`These settings would affect ${t.affected_relationships} relationship(s)`,variant:"destructive"}):s({title:"No conflicts",description:"These settings can be applied without issues"})}catch(e){console.error("Error previewing settings:",e),s({title:"Error",description:"Failed to preview settings impact",variant:"destructive"})}finally{q(!1)}},X=async()=>{if(P?.would_violate&&!F){z(!0);return}try{D(!0);let e=await fetch(`http://localhost:8050/api/trees/${j}${F?"?force=true":""}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({settings:Z})});if(!e.ok){let t=await e.json();throw Error(t.detail||"Failed to update settings")}s({title:"Success",description:"Tree settings updated successfully"}),z(!1),A(!1),T(null),R(Z),t.refresh()}catch(e){console.error("Error updating settings:",e),s({title:"Error",description:e instanceof Error?e.message:"Failed to update settings",variant:"destructive"})}finally{D(!1)}};return V?a.jsx(c.c,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(h.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):w?a.jsx(c.c,{children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tree Settings"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:w.name})]}),(0,a.jsxs)(i.z,{variant:"ghost",onClick:()=>t.push(`/trees/${j}`),children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Back"]})]}),(0,a.jsxs)(k,{children:[a.jsx(f.Z,{className:"h-4 w-4"}),a.jsx(_,{children:"About Tree Settings"}),a.jsx(N,{children:"These settings control what types of relationships and family structures are allowed in your tree. Changes may affect existing relationships."})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[a.jsx(d.ll,{children:"Relationship Settings"}),a.jsx(d.SZ,{children:"Configure the rules for your family tree"})]}),(0,a.jsxs)(d.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(o._,{htmlFor:"allow_same_sex",className:"text-base font-medium",children:"Allow same-sex relationships"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Enable relationships between members of the same gender"})]}),a.jsx(g.r,{id:"allow_same_sex",checked:Z.allow_same_sex,onCheckedChange:e=>$("allow_same_sex",e)})]}),a.jsx(v.Z,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(o._,{htmlFor:"monogamy",className:"text-base font-medium",children:"Enforce monogamy"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Members can only have one spouse at a time"})]}),a.jsx(g.r,{id:"monogamy",checked:Z.monogamy,onCheckedChange:e=>{$("monogamy",e),e&&($("allow_polygamy",!1),$("max_spouses_per_member",void 0))}})]}),!Z.monogamy&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-4 pl-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(o._,{htmlFor:"allow_polygamy",className:"text-base font-medium",children:"Allow polygamy"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Members can have multiple spouses simultaneously"})]}),a.jsx(g.r,{id:"allow_polygamy",checked:Z.allow_polygamy,onCheckedChange:e=>$("allow_polygamy",e)})]}),Z.allow_polygamy&&(0,a.jsxs)("div",{className:"pl-6 space-y-2",children:[a.jsx(o._,{htmlFor:"max_spouses",className:"text-sm font-medium",children:"Maximum spouses per member (optional)"}),a.jsx(l.I,{id:"max_spouses",type:"number",min:"2",max:"10",placeholder:"No limit",value:Z.max_spouses_per_member||"",onChange:e=>$("max_spouses_per_member",e.target.value?parseInt(e.target.value):void 0),className:"max-w-[200px]"})]})]})]}),a.jsx(v.Z,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(o._,{htmlFor:"allow_single_parent",className:"text-base font-medium",children:"Allow single parent children"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Children can have only one listed parent"})]}),a.jsx(g.r,{id:"allow_single_parent",checked:Z.allow_single_parent,onCheckedChange:e=>$("allow_single_parent",e)})]}),a.jsx(v.Z,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(o._,{htmlFor:"allow_multi_parent",className:"text-base font-medium",children:"Allow multi-parent children"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Children can have more than 2 parents"})]}),a.jsx(g.r,{id:"allow_multi_parent",checked:Z.allow_multi_parent_children,onCheckedChange:e=>$("allow_multi_parent_children",e)})]}),Z.allow_multi_parent_children&&(0,a.jsxs)("div",{className:"pl-6 space-y-2",children:[a.jsx(o._,{htmlFor:"max_parents",className:"text-sm font-medium",children:"Maximum parents per child"}),a.jsx(l.I,{id:"max_parents",type:"number",min:"3",max:"10",value:Z.max_parents_per_child,onChange:e=>$("max_parents_per_child",parseInt(e.target.value)||2),className:"max-w-[200px]"})]})]})]})]}),P&&P.would_violate&&(0,a.jsxs)(k,{variant:"destructive",children:[a.jsx(x.Z,{className:"h-4 w-4"}),a.jsx(_,{children:"Settings Conflict Detected"}),(0,a.jsxs)(N,{children:[(0,a.jsxs)("p",{className:"mb-2",children:["These settings would affect"," ",P.affected_relationships," relationship(s) involving"," ",P.affected_members," member(s):"]}),a.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:P.violations.map((e,t)=>(0,a.jsxs)("li",{children:[a.jsx("strong",{children:e.member_name}),": ",e.issue]},t))}),(0,a.jsxs)("div",{className:"mt-4 flex items-center space-x-2",children:[a.jsx(C.X,{id:"force_update",checked:F,onCheckedChange:e=>A(e)}),a.jsx("label",{htmlFor:"force_update",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Force update and remove conflicting relationships"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(i.z,{onClick:B,disabled:!H||W,variant:"outline",className:"flex-1",children:W?(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Preview Impact"]})}),a.jsx(i.z,{onClick:X,disabled:!H||O,className:"flex-1",children:O?(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(y.Z,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]}),a.jsx(S.Vq,{open:I,onOpenChange:z,children:(0,a.jsxs)(S.cZ,{children:[(0,a.jsxs)(S.fK,{children:[a.jsx(S.$N,{children:"Confirm Settings Update"}),a.jsx(S.Be,{children:F?(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-semibold text-destructive",children:"Warning: Force update will remove conflicting relationships!"}),(0,a.jsxs)("p",{children:["This action will permanently delete"," ",P?.affected_relationships," relationship(s) that violate the new settings. This cannot be undone."]})]}):a.jsx("p",{children:"Are you sure you want to update the tree settings? This may affect existing relationships."})})]}),(0,a.jsxs)(S.cN,{children:[a.jsx(i.z,{variant:"outline",onClick:()=>z(!1),disabled:O,children:"Cancel"}),a.jsx(i.z,{onClick:X,disabled:O,variant:F?"destructive":"default",children:O?(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Confirm Update"})]})]})})]})}):null}},69654:(e,t,s)=>{"use strict";s.d(t,{X:()=>M});var a=s(10326),r=s(17577),n=s(48051),i=s(93095),l=s(82561),o=s(52067),d=s(53405),c=s(2566),u=s(9815),m=s(45226),p="Checkbox",[h,f]=(0,i.b)(p),[x,y]=h(p);function g(e){let{__scopeCheckbox:t,checked:s,children:n,defaultChecked:i,disabled:l,form:d,name:c,onCheckedChange:u,required:m,value:h="on",internal_do_not_use_render:f}=e,[y,g]=(0,o.T)({prop:s,defaultProp:i??!1,onChange:u,caller:p}),[v,j]=r.useState(null),[w,b]=r.useState(null),k=r.useRef(!1),_=!v||!!d||!!v.closest("form"),N={checked:y,disabled:l,setChecked:g,control:v,setControl:j,name:c,form:d,value:h,hasConsumerStoppedPropagationRef:k,required:m,defaultChecked:!C(i)&&i,isFormControl:_,bubbleInput:w,setBubbleInput:b};return(0,a.jsx)(x,{scope:t,...N,children:"function"==typeof f?f(N):n})}var v="CheckboxTrigger",j=r.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...i},o)=>{let{control:d,value:c,disabled:u,checked:p,required:h,setControl:f,setChecked:x,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:w}=y(v,e),b=(0,n.e)(o,f),k=r.useRef(p);return r.useEffect(()=>{let e=d?.form;if(e){let t=()=>x(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,x]),(0,a.jsx)(m.WV.button,{type:"button",role:"checkbox","aria-checked":C(p)?"mixed":p,"aria-required":h,"data-state":S(p),"data-disabled":u?"":void 0,disabled:u,value:c,...i,ref:b,onKeyDown:(0,l.Mj)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.Mj)(s,e=>{x(e=>!!C(e)||!e),w&&j&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});j.displayName=v;var w=r.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:r,checked:n,defaultChecked:i,required:l,disabled:o,value:d,onCheckedChange:c,form:u,...m}=e;return(0,a.jsx)(g,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:o,required:l,onCheckedChange:c,name:r,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{...m,ref:t,__scopeCheckbox:s}),e&&(0,a.jsx)(N,{__scopeCheckbox:s})]})})});w.displayName=p;var b="CheckboxIndicator",k=r.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:r,...n}=e,i=y(b,s);return(0,a.jsx)(u.z,{present:r||C(i.checked)||!0===i.checked,children:(0,a.jsx)(m.WV.span,{"data-state":S(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});k.displayName=b;var _="CheckboxBubbleInput",N=r.forwardRef(({__scopeCheckbox:e,...t},s)=>{let{control:i,hasConsumerStoppedPropagationRef:l,checked:o,defaultChecked:u,required:p,disabled:h,name:f,value:x,form:g,bubbleInput:v,setBubbleInput:j}=y(_,e),w=(0,n.e)(s,j),b=(0,d.D)(o),k=(0,c.t)(i);r.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!l.current;if(b!==o&&e){let s=new Event("click",{bubbles:t});v.indeterminate=C(o),e.call(v,!C(o)&&o),v.dispatchEvent(s)}},[v,b,o,l]);let N=r.useRef(!C(o)&&o);return(0,a.jsx)(m.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??N.current,required:p,disabled:h,name:f,value:x,form:g,...t,tabIndex:-1,ref:w,style:{...t.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function S(e){return C(e)?"indeterminate":e?"checked":"unchecked"}N.displayName=_;var Z=s(32933),E=s(51223);let M=r.forwardRef(({className:e,...t},s)=>a.jsx(w,{ref:s,className:(0,E.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(k,{className:(0,E.cn)("flex items-center justify-center text-current"),children:a.jsx(Z.Z,{className:"h-4 w-4"})})}));M.displayName=w.displayName},41190:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var a=s(10326),r=s(17577),n=s(51223);let i=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));i.displayName="Input"},44794:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var a=s(10326),r=s(17577),n=s(34478),i=s(79360),l=s(51223);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...t},s)=>a.jsx(n.f,{ref:s,className:(0,l.cn)(o(),e),...t}));d.displayName=n.f.displayName},72427:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(10326),r=s(17577),n=s(45226),i="horizontal",l=["horizontal","vertical"],o=r.forwardRef((e,t)=>{let{decorative:s,orientation:r=i,...o}=e,d=l.includes(r)?r:i;return(0,a.jsx)(n.WV.div,{"data-orientation":d,...s?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:t})});o.displayName="Separator";var d=s(51223);let c=r.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},n)=>a.jsx(o,{ref:n,decorative:s,orientation:t,className:(0,d.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));c.displayName=o.displayName},87542:(e,t,s)=>{"use strict";s.d(t,{r:()=>k});var a=s(10326),r=s(17577),n=s(82561),i=s(48051),l=s(93095),o=s(52067),d=s(53405),c=s(2566),u=s(45226),m="Switch",[p,h]=(0,l.b)(m),[f,x]=p(m),y=r.forwardRef((e,t)=>{let{__scopeSwitch:s,name:l,checked:d,defaultChecked:c,required:p,disabled:h,value:x="on",onCheckedChange:y,form:g,...v}=e,[b,k]=r.useState(null),_=(0,i.e)(t,e=>k(e)),N=r.useRef(!1),C=!b||g||!!b.closest("form"),[S,Z]=(0,o.T)({prop:d,defaultProp:c??!1,onChange:y,caller:m});return(0,a.jsxs)(f,{scope:s,checked:S,disabled:h,children:[(0,a.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":S,"aria-required":p,"data-state":w(S),"data-disabled":h?"":void 0,disabled:h,value:x,...v,ref:_,onClick:(0,n.Mj)(e.onClick,e=>{Z(e=>!e),C&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),C&&(0,a.jsx)(j,{control:b,bubbles:!N.current,name:l,value:x,checked:S,required:p,disabled:h,form:g,style:{transform:"translateX(-100%)"}})]})});y.displayName=m;var g="SwitchThumb",v=r.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,n=x(g,s);return(0,a.jsx)(u.WV.span,{"data-state":w(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});v.displayName=g;var j=r.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...l},o)=>{let u=r.useRef(null),m=(0,i.e)(u,o),p=(0,d.D)(s),h=(0,c.t)(t);return r.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==s&&t){let a=new Event("click",{bubbles:n});t.call(e,s),e.dispatchEvent(a)}},[p,s,n]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:m,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}j.displayName="SwitchBubbleInput";var b=s(51223);let k=r.forwardRef(({className:e,...t},s)=>a.jsx(y,{className:(0,b.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:a.jsx(v,{className:(0,b.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));k.displayName=y.displayName},98873:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/mnt/win3/work/family_tree/apps/frontend/family-tree/src/app/trees/[id]/settings/page.tsx#default`)},42851:(e,t,s)=>{"use strict";s.d(t,{NY:()=>_,Ee:()=>k,fC:()=>b});var a=s(17577),r=s(93095),n=s(55049),i=s(65819),l=s(45226),o=s(94095);function d(){return()=>{}}var c=s(10326),u="Avatar",[m,p]=(0,r.b)(u),[h,f]=m(u),x=a.forwardRef((e,t)=>{let{__scopeAvatar:s,...r}=e,[n,i]=a.useState("idle");return(0,c.jsx)(h,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,c.jsx)(l.WV.span,{...r,ref:t})})});x.displayName=u;var y="AvatarImage",g=a.forwardRef((e,t)=>{let{__scopeAvatar:s,src:r,onLoadingStatusChange:u=()=>{},...m}=e,p=f(y,s),h=function(e,{referrerPolicy:t,crossOrigin:s}){let r=(0,o.useSyncExternalStore)(d,()=>!0,()=>!1),n=a.useRef(null),l=r?(n.current||(n.current=new window.Image),n.current):null,[c,u]=a.useState(()=>w(l,e));return(0,i.b)(()=>{u(w(l,e))},[l,e]),(0,i.b)(()=>{let e=e=>()=>{u(e)};if(!l)return;let a=e("loaded"),r=e("error");return l.addEventListener("load",a),l.addEventListener("error",r),t&&(l.referrerPolicy=t),"string"==typeof s&&(l.crossOrigin=s),()=>{l.removeEventListener("load",a),l.removeEventListener("error",r)}},[l,s,t]),c}(r,m),x=(0,n.W)(e=>{u(e),p.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==h&&x(h)},[h,x]),"loaded"===h?(0,c.jsx)(l.WV.img,{...m,ref:t,src:r}):null});g.displayName=y;var v="AvatarFallback",j=a.forwardRef((e,t)=>{let{__scopeAvatar:s,delayMs:r,...n}=e,i=f(v,s),[o,d]=a.useState(void 0===r);return a.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&"loaded"!==i.imageLoadingStatus?(0,c.jsx)(l.WV.span,{...n,ref:t}):null});function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=v;var b=x,k=g,_=j},34478:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var a=s(17577),r=s(45226),n=s(10326),i=a.forwardRef((e,t)=>(0,n.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},53405:(e,t,s)=>{"use strict";s.d(t,{D:()=>r});var a=s(17577);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[990,153,752,711],()=>s(12520));module.exports=a})();