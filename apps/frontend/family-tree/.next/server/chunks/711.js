"use strict";exports.id=711,exports.ids=[711],exports.modules={28180:(e,s,a)=>{a.d(s,{c:()=>k});var t=a(10326),r=a(17577),l=a(35047),i=a(91664),o=a(42718),n=a(32082),d=a(84097),c=a(7720),m=a(71709),x=a(37358),f=a(5932),h=a(88378),p=a(90748),u=a(94019),j=a(79635),g=a(71810),N=a(11890),y=a(51223),v=a(3594),b=a(10143);function k({children:e}){var s,a;let k=(0,l.usePathname)(),w=k.includes("/trees/")&&!k.includes("/members")&&!k.includes("/settings")&&!k.includes("/relationships"),[C,F]=(0,r.useState)(!w),[z,Z]=(0,r.useState)(!w),[R,_]=(0,r.useState)(!1),{user:E,logout:W}=(0,n.a)(),L=(0,l.useRouter)(),{toast:S}=(0,d.pm)(),U=async()=>{try{await W(),S({title:"Logged Out",description:"You have been successfully logged out."}),L.push("/")}catch(e){S({title:"Error",description:"Failed to logout. Please try again.",variant:"destructive"})}},B=[{label:"Trees",icon:c.Z,href:"/trees"},{label:"Gallery",icon:m.Z,href:"/gallery"},{label:"Events",icon:x.Z,href:"/events"},{label:"Invites",icon:f.Z,href:"/invites"},{label:"Settings",icon:h.Z,href:"/settings"}],D=()=>{z?F(!C):(Z(!0),F(!0))},A=()=>{Z(!1),F(!1)};return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[!z&&t.jsx("div",{className:"fixed top-4 left-4 z-[60]",children:t.jsx("button",{onClick:D,className:(0,y.cn)("rounded-full bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border shadow-lg hover:shadow-xl transition-all duration-300 p-3 hover:scale-110",R&&"animate-gentle-bounce"),title:"Show Navigation",children:t.jsx(p.Z,{className:"h-5 w-5"})})}),t.jsx("header",{className:(0,y.cn)("sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 transition-transform duration-300",!z&&"-translate-y-full"),children:(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 md:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(i.z,{variant:"ghost",size:"icon",onClick:D,className:"lg:mr-2",children:C?t.jsx(u.Z,{className:"h-5 w-5"}):t.jsx(p.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 flex-shrink-0 -mt-4",children:(0,t.jsxs)("svg",{viewBox:"0 0 200 200",className:"w-full h-full animate-tree-sway",role:"img","aria-label":"Phylo logo",children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:"headerTrunkGrad",x1:"0",x2:"0",y1:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#D97706"}),t.jsx("stop",{offset:"100%",stopColor:"#B45309"})]}),(0,t.jsxs)("radialGradient",{id:"headerLeafCore",cx:"50%",cy:"40%",r:"60%",children:[t.jsx("stop",{offset:"0%",stopColor:"#86EFAC"}),t.jsx("stop",{offset:"60%",stopColor:"#22C55E"}),t.jsx("stop",{offset:"100%",stopColor:"#16A34A"})]}),(0,t.jsxs)("radialGradient",{id:"headerLeafSide",cx:"40%",cy:"35%",r:"65%",children:[t.jsx("stop",{offset:"0%",stopColor:"#A7F3D0"}),t.jsx("stop",{offset:"60%",stopColor:"#34D399"}),t.jsx("stop",{offset:"100%",stopColor:"#10B981"})]})]}),t.jsx("rect",{x:"90",y:"110",width:"20",height:"78",rx:"4",fill:"url(#headerTrunkGrad)",stroke:"#78350F",strokeWidth:"3"}),(0,t.jsxs)("g",{children:[t.jsx("circle",{cx:"100",cy:"105",r:"48",fill:"none",stroke:"#064E3B",strokeOpacity:"0.2",strokeWidth:"8"}),t.jsx("circle",{cx:"100",cy:"105",r:"42",fill:"url(#headerLeafCore)",stroke:"#065F46",strokeWidth:"3.2"}),t.jsx("circle",{cx:"76",cy:"92",r:"30",fill:"url(#headerLeafSide)",stroke:"#065F46",strokeWidth:"3.2"}),t.jsx("circle",{cx:"124",cy:"92",r:"30",fill:"url(#headerLeafSide)",stroke:"#065F46",strokeWidth:"3.2"}),t.jsx("path",{d:"M64,96 C84,66 116,66 136,96",fill:"none",stroke:"#ECFDF5",strokeOpacity:"0.65",strokeWidth:"3.5",strokeLinecap:"round"})]}),(0,t.jsxs)("g",{className:"animate-node-pulse",children:[t.jsx("line",{x1:"100",y1:"112",x2:"78",y2:"94",stroke:"#064E3B",strokeWidth:"4",strokeLinecap:"round"}),t.jsx("line",{x1:"100",y1:"112",x2:"122",y2:"94",stroke:"#064E3B",strokeWidth:"4",strokeLinecap:"round"}),t.jsx("circle",{cx:"100",cy:"112",r:"7",fill:"#FFFFFF",stroke:"#064E3B",strokeWidth:"3"}),t.jsx("circle",{cx:"78",cy:"94",r:"6",fill:"#FFFFFF",stroke:"#064E3B",strokeWidth:"3"}),t.jsx("circle",{cx:"122",cy:"94",r:"6",fill:"#FFFFFF",stroke:"#064E3B",strokeWidth:"3"})]})]})}),t.jsx("span",{className:"hidden sm:inline-block text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 dark:from-green-400 dark:to-blue-400 bg-clip-text text-transparent",children:"Phylo"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[w&&t.jsx(i.z,{variant:"ghost",size:"sm",onClick:A,className:"text-xs",children:"Hide UI"}),t.jsx(o.T,{}),(0,t.jsxs)(b.h_,{children:[t.jsx(b.$F,{asChild:!0,children:t.jsx(i.z,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,t.jsxs)(v.qE,{className:"h-10 w-10",children:[t.jsx(v.F$,{src:E?.avatar_url?`http://localhost:8050/api${E.avatar_url}`:void 0,alt:E?.display_name||E?.email}),t.jsx(v.Q5,{className:"bg-primary/10",children:(s=E?.display_name,a=E?.email,s?s.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):a?a[0].toUpperCase():"U")})]})})}),(0,t.jsxs)(b.AW,{className:"w-56",align:"end",forceMount:!0,children:[t.jsx(b.Ju,{className:"font-normal",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium leading-none",children:E?.display_name||"User"}),t.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:E?.email})]})}),t.jsx(b.VD,{}),(0,t.jsxs)(b.Xi,{onClick:()=>L.push("/profile"),children:[t.jsx(j.Z,{className:"mr-2 h-4 w-4"}),t.jsx("span",{children:"Profile"})]}),(0,t.jsxs)(b.Xi,{onClick:()=>L.push("/settings"),children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),t.jsx("span",{children:"Settings"})]}),t.jsx(b.VD,{}),(0,t.jsxs)(b.Xi,{onClick:U,children:[t.jsx(g.Z,{className:"mr-2 h-4 w-4"}),t.jsx("span",{children:"Log out"})]})]})]})]})]})}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("aside",{className:(0,y.cn)("fixed left-0 z-40 border-r bg-background transition-all duration-300 ease-in-out w-64",z?"top-16 h-[calc(100vh-4rem)]":"top-0 h-screen",C?"translate-x-0":"-translate-x-full"),children:[t.jsx("nav",{className:(0,y.cn)("flex flex-col gap-2 p-4",!z&&"pt-20"),children:B.map(e=>{let s=e.icon,a=k.startsWith(e.href);return(0,t.jsxs)(i.z,{variant:a?"secondary":"ghost",className:(0,y.cn)("justify-start gap-3",a&&"bg-primary/10 text-primary hover:bg-primary/20"),onClick:()=>L.push(e.href),children:[t.jsx(s,{className:"h-5 w-5"}),t.jsx("span",{children:e.label})]},e.href)})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t p-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>F(!1),className:"w-full justify-start",children:[t.jsx(N.Z,{className:"h-4 w-4 mr-2"}),t.jsx("span",{children:"Collapse"})]}),w&&z&&(0,t.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:A,className:"w-full justify-start text-xs",children:[t.jsx(u.Z,{className:"h-4 w-4 mr-2"}),t.jsx("span",{children:"Hide UI"})]})]})})]}),t.jsx("main",{className:(0,y.cn)("flex-1 transition-all duration-300 ease-in-out",C&&z?"lg:ml-64":"ml-0",!z&&"pt-0"),children:t.jsx("div",{className:(0,y.cn)("container mx-auto",z?"p-6":w?"p-0":"p-6"),children:e})})]})]})}},42718:(e,s,a)=>{a.d(s,{T:()=>d});var t=a(10326);a(17577);var r=a(60850),l=a(72607),i=a(14831),o=a(91664),n=a(10143);function d(){let{setTheme:e}=(0,i.F)();return(0,t.jsxs)(n.h_,{children:[t.jsx(n.$F,{asChild:!0,children:(0,t.jsxs)(o.z,{variant:"outline",size:"icon",children:[t.jsx(r.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),t.jsx(l.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),t.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,t.jsxs)(n.AW,{align:"end",children:[t.jsx(n.Xi,{onClick:()=>e("light"),children:"Light"}),t.jsx(n.Xi,{onClick:()=>e("dark"),children:"Dark"}),t.jsx(n.Xi,{onClick:()=>e("system"),children:"System"})]})]})}},3594:(e,s,a)=>{a.d(s,{F$:()=>n,Q5:()=>d,qE:()=>o});var t=a(10326),r=a(17577),l=a(42851),i=a(51223);let o=r.forwardRef(({className:e,...s},a)=>t.jsx(l.fC,{ref:a,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));o.displayName=l.fC.displayName;let n=r.forwardRef(({className:e,...s},a)=>t.jsx(l.Ee,{ref:a,className:(0,i.cn)("aspect-square h-full w-full",e),...s}));n.displayName=l.Ee.displayName;let d=r.forwardRef(({className:e,...s},a)=>t.jsx(l.NY,{ref:a,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));d.displayName=l.NY.displayName},29752:(e,s,a)=>{a.d(s,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>m,ll:()=>n});var t=a(10326),r=a(17577),l=a(51223);let i=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let n=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},10143:(e,s,a)=>{a.d(s,{$F:()=>m,AW:()=>x,Ju:()=>h,VD:()=>p,Xi:()=>f,h_:()=>c});var t=a(10326),r=a(17577),l=a(79313),i=a(39183),o=a(32933),n=a(53982),d=a(51223);let c=l.fC,m=l.xz;l.ZA,l.Uv,l.Tr,l.Ee,r.forwardRef(({className:e,inset:s,children:a,...r},o)=>(0,t.jsxs)(l.fF,{ref:o,className:(0,d.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",e),...r,children:[a,t.jsx(i.Z,{className:"ml-auto"})]})).displayName=l.fF.displayName,r.forwardRef(({className:e,...s},a)=>t.jsx(l.tu,{ref:a,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...s})).displayName=l.tu.displayName;let x=r.forwardRef(({className:e,sideOffset:s=4,...a},r)=>t.jsx(l.Uv,{children:t.jsx(l.VY,{ref:r,sideOffset:s,className:(0,d.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...a})}));x.displayName=l.VY.displayName;let f=r.forwardRef(({className:e,inset:s,...a},r)=>t.jsx(l.ck,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",e),...a}));f.displayName=l.ck.displayName,r.forwardRef(({className:e,children:s,checked:a,...r},i)=>(0,t.jsxs)(l.oC,{ref:i,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(o.Z,{className:"h-4 w-4"})})}),s]})).displayName=l.oC.displayName,r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(l.Rk,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(n.Z,{className:"h-2 w-2 fill-current"})})}),s]})).displayName=l.Rk.displayName;let h=r.forwardRef(({className:e,inset:s,...a},r)=>t.jsx(l.__,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...a}));h.displayName=l.__.displayName;let p=r.forwardRef(({className:e,...s},a)=>t.jsx(l.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));p.displayName=l.Z0.displayName}};