"use strict";exports.id=754,exports.ids=[754],exports.modules={47546:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},74975:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},62952:(e,s,a)=>{a.d(s,{d:()=>D});var t=a(10326),n=a(17577),i=a(98958),r=a(79360),l=a(94019),d=a(51223);let o=i.fC;i.xz,i.x8;let c=i.h_,m=n.forwardRef(({className:e,...s},a)=>t.jsx(i.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:a}));m.displayName=i.aV.displayName;let x=(0,r.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),u=n.forwardRef(({side:e="right",className:s,children:a,...n},r)=>(0,t.jsxs)(c,{children:[t.jsx(m,{}),(0,t.jsxs)(i.VY,{ref:r,className:(0,d.cn)(x({side:e}),s),...n,children:[a,(0,t.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[t.jsx(l.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.VY.displayName;let f=({className:e,...s})=>t.jsx("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});f.displayName="SheetHeader";let h=n.forwardRef(({className:e,...s},a)=>t.jsx(i.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold text-foreground",e),...s}));h.displayName=i.Dx.displayName;let p=n.forwardRef(({className:e,...s},a)=>t.jsx(i.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...s}));p.displayName=i.dk.displayName;var j=a(3594),g=a(38443),b=a(91664),v=a(72427),N=a(38165),y=a(51110),w=a(5932),C=a(37358),k=a(47546),z=a(24061),Z=a(67427);let R=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),I=e=>{if(!e)return"bg-gray-400";let s=e.toLowerCase();return"male"===s?"bg-blue-400":"female"===s?"bg-pink-400":"bg-purple-400"};function D({member:e,open:s,onOpenChange:a,allMembers:n,treeId:i,onEditClick:r,onAddSpouseClick:l,onAddChildClick:d,onAddParentClick:c,onMemberNavigate:m,isTreeCanvasPage:x=!1}){if(!e)return null;let D=e.spouseIds.map(e=>n.find(s=>s.id===e)).filter(e=>void 0!==e).sort((e,s)=>e.name.localeCompare(s.name)),V=e.parentIds.map(e=>n.find(s=>s.id===e)).filter(e=>void 0!==e).sort((e,s)=>e.name.localeCompare(s.name)),M=e.childIds.map(e=>n.find(s=>s.id===e)).filter(e=>void 0!==e).sort((e,s)=>e.name.localeCompare(s.name));return(0,t.jsxs)(t.Fragment,{children:[t.jsx("style",{children:`
        /* Standardized z-index system for Member Drawer */
        
        /* Sheet base layers */
        [data-radix-sheet-overlay] {
          z-index: 40 !important;
        }
        [data-radix-sheet-content] {
          z-index: 41 !important;
        }
        
        /* Fullscreen mode adjustments */
        body:fullscreen [data-radix-sheet-overlay] {
          z-index: 40 !important;
        }
        body:fullscreen [data-radix-sheet-content] {
          z-index: 41 !important;
        }
      `}),t.jsx(o,{open:s,onOpenChange:a,children:(0,t.jsxs)(u,{className:"w-full overflow-y-auto sm:max-w-lg flex flex-col max-h-screen",children:[t.jsx(f,{children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(j.qE,{className:"h-20 w-20 flex-shrink-0",children:[t.jsx(j.F$,{src:e.avatar_url?`${process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8050"}${e.avatar_url}`:void 0,alt:e.name}),t.jsx(j.Q5,{className:I(e.gender),children:R(e.name)})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx(h,{className:"text-xl sm:text-2xl",children:e.name}),(0,t.jsxs)(p,{className:"text-sm",children:[e.deceased?"Deceased":"Living",e.gender&&` â€¢ ${e.gender}`]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-4 px-1",children:[t.jsx(b.z,{size:"sm",variant:"outline",onClick:r,className:"text-xs h-9",children:"Edit Member"}),t.jsx(b.z,{size:"sm",variant:"outline",onClick:c,className:"text-xs h-9",children:"Add Parent"}),t.jsx(b.z,{size:"sm",variant:"outline",onClick:l,className:"text-xs h-9",children:"Add Spouse"}),t.jsx(b.z,{size:"sm",variant:"outline",onClick:d,className:"text-xs h-9",children:"Add Child"})]}),i&&n.length>1&&t.jsx("div",{className:"mt-3 px-1",children:t.jsx(N.D,{members:n,treeId:i,selectedMember:e,onMemberNavigate:x?m:void 0,trigger:(0,t.jsxs)(b.z,{size:"sm",variant:"secondary",className:"w-full text-xs h-9",children:[t.jsx(y.Z,{className:"h-3 w-3 mr-2"}),"Analyze Relationships"]})})}),(0,t.jsxs)("div",{className:"mt-4 space-y-6 flex-1 overflow-y-auto pb-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.deceased&&t.jsx(g.C,{variant:"secondary",children:"Deceased"}),e.gender&&t.jsx(g.C,{variant:"outline",children:e.gender}),e.pronouns&&t.jsx(g.C,{variant:"outline",children:e.pronouns})]}),t.jsx(v.Z,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h3",{className:"font-semibold",children:"Information"}),e.email&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(w.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{children:e.email})]}),e.dob&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(C.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:["Born: ",e.dob,e.birth_place&&` in ${e.birth_place}`]})]}),e.deceased&&e.dod&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(C.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:["Died: ",e.dod,e.death_place&&` in ${e.death_place}`]})]}),e.occupation&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(k.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{children:e.occupation})]})]}),e.bio&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(v.Z,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-semibold",children:"Biography"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.bio})]})]}),t.jsx(v.Z,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h3",{className:"font-semibold",children:"Relationships"}),V.length>0&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Parents"}),t.jsx("div",{className:"space-y-1",children:V.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(z.Z,{className:"h-3 w-3"}),m?t.jsx("button",{onClick:()=>m(e),className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:e.name}):t.jsx("span",{children:e.name})]},e.id))})]}),D.length>0&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:1===D.length?"Spouse":"Spouses"}),t.jsx("div",{className:"space-y-1",children:D.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(Z.Z,{className:"h-3 w-3 fill-red-400 text-red-400"}),m?t.jsx("button",{onClick:()=>m(e),className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:e.name}):t.jsx("span",{children:e.name})]},e.id))})]}),M.length>0&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Children"}),t.jsx("div",{className:"space-y-1",children:M.map(e=>{let s=D.filter(s=>e.parentIds.includes(s.id));return(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(z.Z,{className:"h-3 w-3"}),m?t.jsx("button",{onClick:()=>m(e),className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:e.name}):t.jsx("span",{children:e.name})]}),s.length>0&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["with"," ",s.map((e,s)=>(0,t.jsxs)("span",{children:[s>0&&", ",m?t.jsx("button",{onClick:()=>m(e),className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:e.name}):e.name]},e.id))]})]},e.id)})})]})]}),e.notes&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(v.Z,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-semibold",children:"Notes"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.notes})]})]})]})]})})]})}},41190:(e,s,a)=>{a.d(s,{I:()=>r});var t=a(10326),n=a(17577),i=a(51223);let r=n.forwardRef(({className:e,type:s,...a},n)=>t.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...a}));r.displayName="Input"},99744:(e,s,a)=>{a.d(s,{mQ:()=>I,nU:()=>M,dr:()=>D,SP:()=>V});var t=a(10326),n=a(17577),i=a(82561),r=a(93095),l=a(15594),d=a(9815),o=a(45226),c=a(17124),m=a(52067),x=a(88957),u="Tabs",[f,h]=(0,r.b)(u,[l.Pc]),p=(0,l.Pc)(),[j,g]=f(u),b=n.forwardRef((e,s)=>{let{__scopeTabs:a,value:n,onValueChange:i,defaultValue:r,orientation:l="horizontal",dir:d,activationMode:f="automatic",...h}=e,p=(0,c.gm)(d),[g,b]=(0,m.T)({prop:n,onChange:i,defaultProp:r??"",caller:u});return(0,t.jsx)(j,{scope:a,baseId:(0,x.M)(),value:g,onValueChange:b,orientation:l,dir:p,activationMode:f,children:(0,t.jsx)(o.WV.div,{dir:p,"data-orientation":l,...h,ref:s})})});b.displayName=u;var v="TabsList",N=n.forwardRef((e,s)=>{let{__scopeTabs:a,loop:n=!0,...i}=e,r=g(v,a),d=p(a);return(0,t.jsx)(l.fC,{asChild:!0,...d,orientation:r.orientation,dir:r.dir,loop:n,children:(0,t.jsx)(o.WV.div,{role:"tablist","aria-orientation":r.orientation,...i,ref:s})})});N.displayName=v;var y="TabsTrigger",w=n.forwardRef((e,s)=>{let{__scopeTabs:a,value:n,disabled:r=!1,...d}=e,c=g(y,a),m=p(a),x=z(c.baseId,n),u=Z(c.baseId,n),f=n===c.value;return(0,t.jsx)(l.ck,{asChild:!0,...m,focusable:!r,active:f,children:(0,t.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:x,...d,ref:s,onMouseDown:(0,i.Mj)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,i.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,i.Mj)(e.onFocus,()=>{let e="manual"!==c.activationMode;f||r||!e||c.onValueChange(n)})})})});w.displayName=y;var C="TabsContent",k=n.forwardRef((e,s)=>{let{__scopeTabs:a,value:i,forceMount:r,children:l,...c}=e,m=g(C,a),x=z(m.baseId,i),u=Z(m.baseId,i),f=i===m.value,h=n.useRef(f);return n.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(d.z,{present:r||f,children:({present:a})=>(0,t.jsx)(o.WV.div,{"data-state":f?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":x,hidden:!a,id:u,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:a&&l})})});function z(e,s){return`${e}-trigger-${s}`}function Z(e,s){return`${e}-content-${s}`}k.displayName=C;var R=a(51223);let I=b,D=n.forwardRef(({className:e,...s},a)=>t.jsx(N,{ref:a,className:(0,R.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));D.displayName=N.displayName;let V=n.forwardRef(({className:e,...s},a)=>t.jsx(w,{ref:a,className:(0,R.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));V.displayName=w.displayName;let M=n.forwardRef(({className:e,...s},a)=>t.jsx(k,{ref:a,className:(0,R.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));M.displayName=k.displayName}};