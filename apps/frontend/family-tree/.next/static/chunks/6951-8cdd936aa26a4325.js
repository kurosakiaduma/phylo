"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6951],{70882:function(e,s,t){t.d(s,{d:function(){return V}});var a=t(57437),n=t(2265),i=t(49027),r=t(90535),l=t(32489),d=t(93448);let o=i.fC;i.xz,i.x8;let c=i.h_,m=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:s})});m.displayName=i.aV.displayName;let x=(0,r.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),u=n.forwardRef((e,s)=>{let{side:t="right",className:n,children:r,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(i.VY,{ref:s,className:(0,d.cn)(x({side:t}),n),...o,children:[r,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.VY.displayName;let f=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};f.displayName="SheetHeader";let h=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.Dx,{ref:s,className:(0,d.cn)("text-lg font-semibold text-foreground",t),...n})});h.displayName=i.Dx.displayName;let p=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.dk,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",t),...n})});p.displayName=i.dk.displayName;var j=t(96246),g=t(69174),b=t(12381),N=t(31593),v=t(85040),y=t(13420),w=t(89345),C=t(31047),k=t(5005),z=t(95805),_=t(88997),Z=t(40257);let R=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),I=e=>{if(!e)return"bg-gray-400";let s=e.toLowerCase();return"male"===s?"bg-blue-400":"female"===s?"bg-pink-400":"bg-purple-400"};function V(e){let{member:s,open:t,onOpenChange:n,allMembers:i,treeId:r,onEditClick:l,onAddSpouseClick:d,onAddChildClick:c,onAddParentClick:m,onMemberNavigate:x,isTreeCanvasPage:V=!1}=e;if(!s)return null;let D=s.spouseIds.map(e=>i.find(s=>s.id===e)).filter(e=>void 0!==e).sort((e,s)=>e.name.localeCompare(s.name)),S=s.parentIds.map(e=>i.find(s=>s.id===e)).filter(e=>void 0!==e).sort((e,s)=>e.name.localeCompare(s.name)),E=s.childIds.map(e=>i.find(s=>s.id===e)).filter(e=>void 0!==e).sort((e,s)=>e.name.localeCompare(s.name));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n        /* Standardized z-index system for Member Drawer */\n        \n        /* Sheet base layers */\n        [data-radix-sheet-overlay] {\n          z-index: 40 !important;\n        }\n        [data-radix-sheet-content] {\n          z-index: 41 !important;\n        }\n        \n        /* Fullscreen mode adjustments */\n        body:fullscreen [data-radix-sheet-overlay] {\n          z-index: 40 !important;\n        }\n        body:fullscreen [data-radix-sheet-content] {\n          z-index: 41 !important;\n        }\n      "}),(0,a.jsx)(o,{open:t,onOpenChange:n,children:(0,a.jsxs)(u,{className:"w-full overflow-y-auto sm:max-w-lg flex flex-col max-h-screen",children:[(0,a.jsx)(f,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(j.qE,{className:"h-20 w-20 flex-shrink-0",children:[(0,a.jsx)(j.F$,{src:s.avatar_url?"".concat(Z.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8050").concat(s.avatar_url):void 0,alt:s.name}),(0,a.jsx)(j.Q5,{className:I(s.gender),children:R(s.name)})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(h,{className:"text-xl sm:text-2xl",children:s.name}),(0,a.jsxs)(p,{className:"text-sm",children:[s.deceased?"Deceased":"Living",s.gender&&" â€¢ ".concat(s.gender)]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-4 px-1",children:[(0,a.jsx)(b.z,{size:"sm",variant:"outline",onClick:l,className:"text-xs h-9",children:"Edit Member"}),(0,a.jsx)(b.z,{size:"sm",variant:"outline",onClick:m,className:"text-xs h-9",children:"Add Parent"}),(0,a.jsx)(b.z,{size:"sm",variant:"outline",onClick:d,className:"text-xs h-9",children:"Add Spouse"}),(0,a.jsx)(b.z,{size:"sm",variant:"outline",onClick:c,className:"text-xs h-9",children:"Add Child"})]}),r&&i.length>1&&(0,a.jsx)("div",{className:"mt-3 px-1",children:(0,a.jsx)(v.D,{members:i,treeId:r,selectedMember:s,onMemberNavigate:V?x:void 0,trigger:(0,a.jsxs)(b.z,{size:"sm",variant:"secondary",className:"w-full text-xs h-9",children:[(0,a.jsx)(y.Z,{className:"h-3 w-3 mr-2"}),"Analyze Relationships"]})})}),(0,a.jsxs)("div",{className:"mt-4 space-y-6 flex-1 overflow-y-auto pb-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.deceased&&(0,a.jsx)(g.C,{variant:"secondary",children:"Deceased"}),s.gender&&(0,a.jsx)(g.C,{variant:"outline",children:s.gender}),s.pronouns&&(0,a.jsx)(g.C,{variant:"outline",children:s.pronouns})]}),(0,a.jsx)(N.Z,{}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Information"}),s.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:s.email})]}),s.dob&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:["Born: ",s.dob,s.birth_place&&" in ".concat(s.birth_place)]})]}),s.deceased&&s.dod&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:["Died: ",s.dod,s.death_place&&" in ".concat(s.death_place)]})]}),s.occupation&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:s.occupation})]})]}),s.bio&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Biography"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s.bio})]})]}),(0,a.jsx)(N.Z,{}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Relationships"}),S.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Parents"}),(0,a.jsx)("div",{className:"space-y-1",children:S.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(z.Z,{className:"h-3 w-3"}),x?(0,a.jsx)("button",{onClick:()=>x(e),className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:e.name}):(0,a.jsx)("span",{children:e.name})]},e.id))})]}),D.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:1===D.length?"Spouse":"Spouses"}),(0,a.jsx)("div",{className:"space-y-1",children:D.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(_.Z,{className:"h-3 w-3 fill-red-400 text-red-400"}),x?(0,a.jsx)("button",{onClick:()=>x(e),className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:e.name}):(0,a.jsx)("span",{children:e.name})]},e.id))})]}),E.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Children"}),(0,a.jsx)("div",{className:"space-y-1",children:E.map(e=>{let s=D.filter(s=>e.parentIds.includes(s.id));return(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z.Z,{className:"h-3 w-3"}),x?(0,a.jsx)("button",{onClick:()=>x(e),className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:e.name}):(0,a.jsx)("span",{children:e.name})]}),s.length>0&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["with"," ",s.map((e,s)=>(0,a.jsxs)("span",{children:[s>0&&", ",x?(0,a.jsx)("button",{onClick:()=>x(e),className:"text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:e.name}):e.name]},e.id))]})]},e.id)})})]})]}),s.notes&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Notes"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s.notes})]})]})]})]})})]})}},40279:function(e,s,t){t.d(s,{I:function(){return r}});var a=t(57437),n=t(2265),i=t(93448);let r=n.forwardRef((e,s)=>{let{className:t,type:n,...r}=e;return(0,a.jsx)("input",{type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});r.displayName="Input"},17168:function(e,s,t){t.d(s,{SP:function(){return o},dr:function(){return d},mQ:function(){return l},nU:function(){return c}});var a=t(57437),n=t(2265),i=t(20271),r=t(93448);let l=i.fC,d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.aV,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n})});d.displayName=i.aV.displayName;let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.xz,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n})});o.displayName=i.xz.displayName;let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.VY,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n})});c.displayName=i.VY.displayName}}]);