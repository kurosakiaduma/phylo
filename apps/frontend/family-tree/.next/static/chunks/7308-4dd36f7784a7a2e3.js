"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7308],{86271:function(e,s,r){r.d(s,{c:function(){return b}});var l=r(57437),t=r(2265),a=r(99376),i=r(12381),n=r(49547),c=r(50828),o=r(23340),d=r(47755),x=r(53113),f=r(31047),h=r(89345),u=r(98728),m=r(58293),p=r(32489),j=r(92369),N=r(47692),g=r(92451),v=r(93448),k=r(96246),y=r(32060);function b(e){var s,r;let{children:b}=e,w=(0,a.usePathname)(),C=w.includes("/trees/")&&!w.includes("/members")&&!w.includes("/settings")&&!w.includes("/relationships"),[F,E]=(0,t.useState)(!C),[Z,W]=(0,t.useState)(!C),[z,L]=(0,t.useState)(!1),{user:R,logout:S}=(0,c.a)(),_=(0,a.useRouter)(),{toast:B}=(0,o.pm)();(0,t.useEffect)(()=>{if(!Z){let e=setInterval(()=>{L(!0),setTimeout(()=>L(!1),600)},8e3);return()=>clearInterval(e)}},[Z]);let D=async()=>{try{await S(),B({title:"Logged Out",description:"You have been successfully logged out."}),_.push("/")}catch(e){B({title:"Error",description:"Failed to logout. Please try again.",variant:"destructive"})}},G=[{label:"Trees",icon:d.Z,href:"/trees"},{label:"Gallery",icon:x.Z,href:"/gallery"},{label:"Events",icon:f.Z,href:"/events"},{label:"Invites",icon:h.Z,href:"/invites"},{label:"Settings",icon:u.Z,href:"/settings"}],T=()=>{Z?E(!F):(W(!0),E(!0))},U=()=>{W(!1),E(!1)};return(0,l.jsxs)("div",{className:"min-h-screen bg-background",children:[!Z&&(0,l.jsx)("div",{className:"fixed top-4 left-4 z-[60]",children:(0,l.jsx)("button",{onClick:T,className:(0,v.cn)("rounded-full bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border shadow-lg hover:shadow-xl transition-all duration-300 p-3 hover:scale-110",z&&"animate-gentle-bounce"),title:"Show Navigation",children:(0,l.jsx)(m.Z,{className:"h-5 w-5"})})}),(0,l.jsx)("header",{className:(0,v.cn)("sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 transition-transform duration-300",!Z&&"-translate-y-full"),children:(0,l.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 md:px-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.z,{variant:"ghost",size:"icon",onClick:T,className:"lg:mr-2",children:F?(0,l.jsx)(p.Z,{className:"h-5 w-5"}):(0,l.jsx)(m.Z,{className:"h-5 w-5"})}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 flex-shrink-0 -mt-4",children:(0,l.jsxs)("svg",{viewBox:"0 0 200 200",className:"w-full h-full animate-tree-sway",role:"img","aria-label":"Phylo logo",children:[(0,l.jsxs)("defs",{children:[(0,l.jsxs)("linearGradient",{id:"headerTrunkGrad",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"#D97706"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"#B45309"})]}),(0,l.jsxs)("radialGradient",{id:"headerLeafCore",cx:"50%",cy:"40%",r:"60%",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"#86EFAC"}),(0,l.jsx)("stop",{offset:"60%",stopColor:"#22C55E"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"#16A34A"})]}),(0,l.jsxs)("radialGradient",{id:"headerLeafSide",cx:"40%",cy:"35%",r:"65%",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"#A7F3D0"}),(0,l.jsx)("stop",{offset:"60%",stopColor:"#34D399"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"#10B981"})]})]}),(0,l.jsx)("rect",{x:"90",y:"110",width:"20",height:"78",rx:"4",fill:"url(#headerTrunkGrad)",stroke:"#78350F",strokeWidth:"3"}),(0,l.jsxs)("g",{children:[(0,l.jsx)("circle",{cx:"100",cy:"105",r:"48",fill:"none",stroke:"#064E3B",strokeOpacity:"0.2",strokeWidth:"8"}),(0,l.jsx)("circle",{cx:"100",cy:"105",r:"42",fill:"url(#headerLeafCore)",stroke:"#065F46",strokeWidth:"3.2"}),(0,l.jsx)("circle",{cx:"76",cy:"92",r:"30",fill:"url(#headerLeafSide)",stroke:"#065F46",strokeWidth:"3.2"}),(0,l.jsx)("circle",{cx:"124",cy:"92",r:"30",fill:"url(#headerLeafSide)",stroke:"#065F46",strokeWidth:"3.2"}),(0,l.jsx)("path",{d:"M64,96 C84,66 116,66 136,96",fill:"none",stroke:"#ECFDF5",strokeOpacity:"0.65",strokeWidth:"3.5",strokeLinecap:"round"})]}),(0,l.jsxs)("g",{className:"animate-node-pulse",children:[(0,l.jsx)("line",{x1:"100",y1:"112",x2:"78",y2:"94",stroke:"#064E3B",strokeWidth:"4",strokeLinecap:"round"}),(0,l.jsx)("line",{x1:"100",y1:"112",x2:"122",y2:"94",stroke:"#064E3B",strokeWidth:"4",strokeLinecap:"round"}),(0,l.jsx)("circle",{cx:"100",cy:"112",r:"7",fill:"#FFFFFF",stroke:"#064E3B",strokeWidth:"3"}),(0,l.jsx)("circle",{cx:"78",cy:"94",r:"6",fill:"#FFFFFF",stroke:"#064E3B",strokeWidth:"3"}),(0,l.jsx)("circle",{cx:"122",cy:"94",r:"6",fill:"#FFFFFF",stroke:"#064E3B",strokeWidth:"3"})]})]})}),(0,l.jsx)("span",{className:"hidden sm:inline-block text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 dark:from-green-400 dark:to-blue-400 bg-clip-text text-transparent",children:"Phylo"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[C&&(0,l.jsx)(i.z,{variant:"ghost",size:"sm",onClick:U,className:"text-xs",children:"Hide UI"}),(0,l.jsx)(n.T,{}),(0,l.jsxs)(y.h_,{children:[(0,l.jsx)(y.$F,{asChild:!0,children:(0,l.jsx)(i.z,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,l.jsxs)(k.qE,{className:"h-10 w-10",children:[(0,l.jsx)(k.F$,{src:(null==R?void 0:R.avatar_url)?"".concat("http://localhost:8050/api").concat(R.avatar_url):void 0,alt:(null==R?void 0:R.display_name)||(null==R?void 0:R.email)}),(0,l.jsx)(k.Q5,{className:"bg-primary/10",children:(s=null==R?void 0:R.display_name,r=null==R?void 0:R.email,s?s.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):r?r[0].toUpperCase():"U")})]})})}),(0,l.jsxs)(y.AW,{className:"w-56",align:"end",forceMount:!0,children:[(0,l.jsx)(y.Ju,{className:"font-normal",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium leading-none",children:(null==R?void 0:R.display_name)||"User"}),(0,l.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:null==R?void 0:R.email})]})}),(0,l.jsx)(y.VD,{}),(0,l.jsxs)(y.Xi,{onClick:()=>_.push("/profile"),children:[(0,l.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Profile"})]}),(0,l.jsxs)(y.Xi,{onClick:()=>_.push("/settings"),children:[(0,l.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Settings"})]}),(0,l.jsx)(y.VD,{}),(0,l.jsxs)(y.Xi,{onClick:D,children:[(0,l.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Log out"})]})]})]})]})]})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("aside",{className:(0,v.cn)("fixed left-0 z-40 border-r bg-background transition-all duration-300 ease-in-out w-64",Z?"top-16 h-[calc(100vh-4rem)]":"top-0 h-screen",F?"translate-x-0":"-translate-x-full"),children:[(0,l.jsx)("nav",{className:(0,v.cn)("flex flex-col gap-2 p-4",!Z&&"pt-20"),children:G.map(e=>{let s=e.icon,r=w.startsWith(e.href);return(0,l.jsxs)(i.z,{variant:r?"secondary":"ghost",className:(0,v.cn)("justify-start gap-3",r&&"bg-primary/10 text-primary hover:bg-primary/20"),onClick:()=>_.push(e.href),children:[(0,l.jsx)(s,{className:"h-5 w-5"}),(0,l.jsx)("span",{children:e.label})]},e.href)})}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 right-0 border-t p-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>E(!1),className:"w-full justify-start",children:[(0,l.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),(0,l.jsx)("span",{children:"Collapse"})]}),C&&Z&&(0,l.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:U,className:"w-full justify-start text-xs",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),(0,l.jsx)("span",{children:"Hide UI"})]})]})})]}),(0,l.jsx)("main",{className:(0,v.cn)("flex-1 transition-all duration-300 ease-in-out",F&&Z?"lg:ml-64":"ml-0",!Z&&"pt-0"),children:(0,l.jsx)("div",{className:(0,v.cn)("container mx-auto",Z?"p-6":C?"p-0":"p-6"),children:b})})]})]})}},96246:function(e,s,r){r.d(s,{F$:function(){return c},Q5:function(){return o},qE:function(){return n}});var l=r(57437),t=r(2265),a=r(61146),i=r(93448);let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)(a.fC,{ref:s,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...t})});n.displayName=a.fC.displayName;let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)(a.Ee,{ref:s,className:(0,i.cn)("aspect-square h-full w-full",r),...t})});c.displayName=a.Ee.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)(a.NY,{ref:s,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...t})});o.displayName=a.NY.displayName},79820:function(e,s,r){r.d(s,{Ol:function(){return n},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},eW:function(){return x},ll:function(){return c}});var l=r(57437),t=r(2265),a=r(93448);let i=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});i.displayName="Card";let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...t})});n.displayName="CardHeader";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t})});c.displayName="CardTitle";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",r),...t})});o.displayName="CardDescription";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",r),...t})});d.displayName="CardContent";let x=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",r),...t})});x.displayName="CardFooter"}}]);