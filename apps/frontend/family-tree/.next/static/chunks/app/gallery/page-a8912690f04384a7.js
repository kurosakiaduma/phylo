(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3928],{11962:function(e,t,r){Promise.resolve().then(r.bind(r,62435))},76858:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},31047:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},53113:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},47692:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},58293:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},98728:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},53057:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]])},47755:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]])},92369:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(39763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24369:function(e,t,r){"use strict";var n=r(2265),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,i=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return l(function(){a.value=r,a.getSnapshot=t,o(a)&&u({inst:a})},[e,r,t]),i(function(){return o(a)&&u({inst:a}),e(function(){o(a)&&u({inst:a})})},[e]),c(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},82558:function(e,t,r){"use strict";e.exports=r(24369)},62435:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(57437),a=r(2265),s=r(99376),i=r(86271),l=r(79820),c=r(12381),o=r(23340),u=r(15863),d=r(53057),h=r(53113),f=r(76858);function y(){let e=(0,s.useRouter)(),{toast:t}=(0,o.pm)(),[r,y]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0);(0,a.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await fetch("".concat("http://localhost:8050/api","/trees"),{credentials:"include"});if(!e.ok)throw Error("Failed to fetch trees");let t=await e.json();y(t)}catch(e){console.error("Error fetching trees:",e),t({title:"Error",description:"Failed to load your trees. Please try again.",variant:"destructive"})}finally{x(!1)}};return m?(0,n.jsx)(i.c,{children:(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(u.Z,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Loading your trees..."})]})})}):(0,n.jsx)(i.c,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Family Gallery"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-1",children:"Photos and memories from your family history"})]}),0===r.length?(0,n.jsxs)(l.Zb,{children:[(0,n.jsxs)(l.Ol,{children:[(0,n.jsx)(l.ll,{children:"No Trees Available"}),(0,n.jsx)(l.SZ,{children:"You need to create or join a family tree to access the gallery."})]}),(0,n.jsx)(l.aY,{children:(0,n.jsxs)(c.z,{onClick:()=>e.push("/trees"),children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Go to Trees"]})})]}):(0,n.jsxs)(l.Zb,{children:[(0,n.jsxs)(l.Ol,{children:[(0,n.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(h.Z,{className:"h-5 w-5"}),"Select a Family Tree"]}),(0,n.jsx)(l.SZ,{children:"Choose which family tree's gallery you'd like to view"})]}),(0,n.jsx)(l.aY,{children:(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(t=>(0,n.jsx)(l.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e.push("/trees/".concat(t.id,"/gallery")),children:(0,n.jsx)(l.aY,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("h3",{className:"font-semibold truncate",children:t.name}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground capitalize",children:t.role}),t.description&&(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.description})]}),(0,n.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground ml-2"})]})})},t.id))})})]})]})})}},61146:function(e,t,r){"use strict";r.d(t,{NY:function(){return N},Ee:function(){return Z},fC:function(){return w}});var n=r(2265),a=r(73966),s=r(26606),i=r(61188),l=r(66840),c=r(82558);function o(){return()=>{}}var u=r(57437),d="Avatar",[h,f]=(0,a.b)(d),[y,m]=h(d),x=n.forwardRef((e,t)=>{let{__scopeAvatar:r,...a}=e,[s,i]=n.useState("idle");return(0,u.jsx)(y,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:(0,u.jsx)(l.WV.span,{...a,ref:t})})});x.displayName=d;var p="AvatarImage",v=n.forwardRef((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:d=()=>{},...h}=e,f=m(p,r),y=function(e,t){let{referrerPolicy:r,crossOrigin:a}=t,s=(0,c.useSyncExternalStore)(o,()=>!0,()=>!1),l=n.useRef(null),u=s?(l.current||(l.current=new window.Image),l.current):null,[d,h]=n.useState(()=>k(u,e));return(0,i.b)(()=>{h(k(u,e))},[u,e]),(0,i.b)(()=>{let e=e=>()=>{h(e)};if(!u)return;let t=e("loaded"),n=e("error");return u.addEventListener("load",t),u.addEventListener("error",n),r&&(u.referrerPolicy=r),"string"==typeof a&&(u.crossOrigin=a),()=>{u.removeEventListener("load",t),u.removeEventListener("error",n)}},[u,a,r]),d}(a,h),x=(0,s.W)(e=>{d(e),f.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==y&&x(y)},[y,x]),"loaded"===y?(0,u.jsx)(l.WV.img,{...h,ref:t,src:a}):null});v.displayName=p;var g="AvatarFallback",j=n.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:a,...s}=e,i=m(g,r),[c,o]=n.useState(void 0===a);return n.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>o(!0),a);return()=>window.clearTimeout(e)}},[a]),c&&"loaded"!==i.imageLoadingStatus?(0,u.jsx)(l.WV.span,{...s,ref:t}):null});function k(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=g;var w=x,Z=v,N=j}},function(e){e.O(0,[7697,1770,7203,4360,4713,7308,2971,2117,1744],function(){return e(e.s=11962)}),_N_E=e.O()}]);